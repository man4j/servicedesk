(function(){var a=function(h,g,f){if(typeof(f)=="string"){f=g.path(f).attr({stroke:"none"})}for(var c=0;c<h.length;c++){var e=h[c];var d=f.getPointAtLength(e.getBBox().x);var b=e.transform()+"T"+(d.x-e.getBBox().x)+","+(d.y-e.getBBox().y-e.getBBox().height);
b+="R"+(d.alpha<360?180+d.alpha:d.alpha);e.transform(b)}h._rm_topathPath=f};Raphael.fn.printLetters=function(l,j,h,e,o,d,n,g){d=d||o/1.5;n=n||o;this.setStart();var b=l,k=j;for(var f=0;f<h.length;f++){if(h.charAt(f)!="\n"){var c=this.print(b,k,h.charAt(f),e,o);
b+=d}else{b=l;k+=n}}var m=this.setFinish();if(g){a(m,this,g)}return m}})();(function(){Raphael.st._elEquals=function(b,a){return b==a};Raphael.st.contains=function(b){for(var a=0;a<this.length;a++){if(Raphael.st._elEquals(this[a],b)){return true
}}return false};Raphael.st.containsAll=function(a){};Raphael.st.intersect=function(a){if(!a){return[]}var b=this.paper.set();for(var c=0;c<this.length;c++){if(a.contains(this[c])){b.push(this[c])}}return b
};Raphael.st.add=function(a){if(!a){return this}for(var b=0;b<a.length;b++){if(!this.contains(a[b])){this.push(a[b])}}return this};Raphael.st.size=function(){var a=0;this.forEach(function(c,b){a++;return true
});return a};Raphael.st.substract=function(a){if(!a){return this}for(var b=0;b<a.length;b++){if(this.contains(a[b])){this.exclude(a[b])}}return this};Raphael.st.filter=function(a){var b=this;this.forEach(function(e,d){var c=a(e,d);
c=typeof(c)=="object"?(c+"")=="true":c;if(c){b.exclude(e)}return true});return b};Raphael.el.firstShape=function(){return this};Raphael.st.firstShape=function(){var a=null;this.forEach(function(c,b){if(c.type!="set"){a=c;
return false}else{a=c.firstShape();if(a==null){return true}else{return false}}});return a};Raphael.st.item=function(b){var c=0;var a=null;this.forEach(function(d){if(c==b){a=d;return false}c++;return true
});return a};Raphael.el.print=function(){return this.type?this.type:"undef"};Raphael.st.print=function(){var a="Set(";this.forEach(function(b){a+=b.print()+", "});return a+")"}})();(function(){Raphael.el.isRemoved=function(){return this.node.parentNode==null
};Raphael.st.isRemoved=function(){return true}})();(function(){var a=function(d,b){if(d.type=="set"){var c=d;d.forEach(function(f){a(f,b)});return}else{var e=d.attr();e.type=d.type;b.push(e)}};Raphael.el.writeToObject=function(){var b=[];
a(this,b);return b};Raphael.el.writeToString=function(){var b=this.writeToObject();var h=[];for(var e=0;e<b.length;e++){var g=b[e],d=[];d.push('"type":"'+g.type+'"');for(var c in g){val=(g[c]+"").replace(/\"/g,'\\"');
d.push('"'+c+'":"'+val+'"')}var f="{"+d.join(",")+"}";if(e<b.length-1){f+=","}h.push(f)}return h.join(",")};Raphael.st.writeToObject=function(){var b=[];this.forEach(function(c){b=b.concat(c.writeToObject())
});return b};Raphael.st.writeToString=function(){var b=[];this.forEach(function(c){b=b.concat(c.writeToString())});return"["+b.join(",")+"]"};Raphael.fn.writeToObject=function(){var b=[];this.forEach(function(c){b=b.concat(c.writeToObject())
});return b};Raphael.fn.writeToString=function(){var b=[];this.forEach(function(c){b=b.concat(c.writeToString())});return"["+b.join(",")+"]"}})();(function(){function a(b){this.paper=b;this.set=b.set();
this.data={}}a.prototype.put=function(c,b){this.set.push(b);this.data[c]=b};a.prototype.putAll=function(c){for(var b in c.data){this.put(b,c.data[b])}};a.prototype.get=function(b){return this.data[b]};
a.prototype.remove=function(b){var c=this.data[b];this.set.excludes(c);this.data[b]=null;return c};a.prototype.removeAll=function(d){var b=new a(this.paper);for(var c in d.data){b.put(c,this.remove(c))
}return b};Raphael.fn.namedSet=function(){return new a(this)}})();(function(){if(Raphael.vml){var a=/ progid:\S+Blur\([^\)]+\)/g;Raphael.el.blur=function(c){var d=this.node.style,e=d.filter;e=e.replace(a,"");
if(c!="none"&&c!=0&&c!="0"){d.filter=e+" progid:DXImageTransform.Microsoft.Blur(pixelradius="+(+c||1.5)+")";d.margin=Raphael.format("-{0}px 0 0 -{0}px",Math.round(+c||1.5))}else{d.filter=e;d.margin=0}}
}else{var b=function(e,c){if(c){for(var d in c){if(c.hasOwnProperty(d)){e.setAttribute(d,c[d])}}}else{return document.createElementNS("http://www.w3.org/2000/svg",e)}};Raphael.el.blur=function(c){if(c!="none"&&c!=0&&c!="0"){var d=b("filter"),e=b("feGaussianBlur");
d.id="r"+(Raphael.idGenerator++).toString(36);b(e,{stdDeviation:+c||1.5});d.appendChild(e);this.paper.defs.appendChild(d);this._blur=d;b(this.node,{filter:"url(#"+d.id+")"})}else{if(this._blur){this._blur.parentNode.removeChild(this._blur);
delete this._blur}this.node.removeAttribute("filter")}};Raphael.st.blur=function(d){for(var c=0;c<this.items.length;c++){this.items[c].blur(d)}}}})();(function(){if(Raphael.vml){var a=/ progid:\S+Emboss\([^\)]+\)/g;
Raphael.el.emboss=function(b){var c=this.node.style,d=c.filter;d=d.replace(a,"");if(b!="none"){c.filter=d+" progid:DXImageTransform.Microsoft.Emboss(bias="+(b||0)+")"}else{c.filter=d}}}else{Raphael.el.emboss=function(b){if(!b||b=="0"){return this.convolveClear(Raphael.el.emboss.EMBOSS_TRANS_NAME)
}else{var c=b;var d=[c*-1,0,0,0,1,0,0,0,c];return this.convolve(Raphael.el.emboss.EMBOSS_TRANS_NAME,3,d,1,b,null)}};Raphael.st.emboss=function(b){for(var c=0;c<this.items.length;c++){this.items[c].emboss(b)
}};Raphael.el.emboss.EMBOSS_TRANS_NAME="embossTransformation"}})();(function(){if(Raphael.vml){Raphael.el.convolve=function(e,c,g,f,b,d){return this};Raphael.el.convolveClear=function(b){return this}}else{var a=function(d,b){if(b){for(var c in b){if(b.hasOwnProperty(c)){d.setAttribute(c,b[c])
}}}else{return document.createElementNS("http://www.w3.org/2000/svg",d)}};Raphael.el.convolve=function(g,e,j,h,d,f){var b={order:e+"",kernelMatrix:j.join(" ")};if(h){b.divisor=h}if(d){b.bias=d}if(f){b.preserveAlpha=f
}else{b.preserveAlpha="true"}if(this.mainFilter==null){this.mainFilter=a("filter");this.mainFilter.id="convolutionMainFilter";this.paper.defs.appendChild(this.mainFilter);a(this.node,{filter:"url(#convolutionMainFilter)"})
}var c=this._convolutions==null?null:this._convolutions[g];if(c==null){c=a("feConvolveMatrix")}this.mainFilter.appendChild(c);a(c,b);if(!this._convolutions){this._convolutions={}}this._convolutions[g]=c;
return this};Raphael.st.convolve=function(f,d,h,g,b,e){for(var c=0;c<this.items.length;c++){this.items[c].convolve(f,d,h,g,b,e)}};Raphael.el.convolveClear=function(c){if(this._convolutions!=null&&this._convolutions[c]!=null&&this.mainFilter!=null){try{this.mainFilter.removeChild(this._convolutions[c]);
this._convolutions[c]=null}catch(b){alert("error removing filter for conv named : "+c)}}return this};Raphael.st.convolveClear=function(c){for(var b=0;b<this.items.length;b++){this.items[b].convolveClear(c)
}};Raphael.el.convolveClearAll=function(){if(this.mainFilter!=null){this.paper.defs.removeChild(this.mainFilter);this.mainFilter=null;this._convolutions=null;this.node.removeAttribute("filter")}};Raphael.st.convolveClearAll=function(){for(var b=0;
b<this.items.length;b++){this.items[b].convolveClearAll()}}}})();(function(){Raphael.el.emboss2=function(d,c,e,b){e=e||1;b=b||100;var a=null;if(c=="north"){a=[-d,0,0,0,1,0,0,0,d]}else{if(c=="north-east"){a=[0,0,d,0,1,0,-d,0,0]
}else{if(c=="east"){a=[0,0,0,-d,1,d,0,0,0]}else{if(c=="south-east"){a=[-d,0,0,0,1,0,0,0,d]}else{if(c=="south"){a=[0,-d,0,0,1,0,0,d,0]}else{if(c=="south-west"){a=[0,0,-d,0,1,0,d,0,0]}else{if(c=="west"){a=[0,0,0,d,1,-d,0,0,0]
}else{if(c=="north-west"){a=[d,0,0,0,1,0,0,0,-d]}}}}}}}}if(a){this.convolve("prewittCompassGradient1",3,a,e,b)}return this}})();(function(){var a=function(e,g,b){var f=[];for(var d=0;d<g;d++){for(var c=0;
c<g;c++){f[d*g+c]=e[d*g+c]*b}}return f};Raphael.el.sobel=function(c,e,d,b){d=d||1;b=b||1;if(c==1){this.convolve("sobel1",3,a([-1,0,+1,-2,0,+2,-1,0,+1],3,e),d,b);this.convolve("sobel2",3,a([+1,+2,+1,0,0,0,-1,-2,-1],3,e),d,b)
}else{if(c==2){this.convolve("sobel1",4,a([-1,0,0,1,-2,0,0,2,-2,0,0,2,-1,0,0,1],4,e),d,b);this.convolve("sobel2",4,a([+1,+2,+2,+1,0,0,0,0,0,0,0,0,0,0,0,0,-1,-2,-2,-1],4,e),d,b)}else{if(c==3){this.convolve("sobel1",5,a([-1,0,0,0,1,-2,0,0,0,2,-3,0,0,0,3,-2,0,0,0,2,-1,0,0,0,1],5,e),d,b);
this.convolve("sobel2",5,a([+1,+2,+3,+2,+1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-2,-3,-2,-1],5,e),d,b)}else{if(c==4){this.convolve("sobel1",6,a([-1,0,0,0,0,1,-2,0,0,0,0,2,-3,0,0,0,0,3,-3,0,0,0,0,3,-2,0,0,0,0,2,-1,0,0,0,0,1],6,e),d,b);
this.convolve("sobel2",6,a([+1,+2,+3,+3,+2,+1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-2,-3,-3,-2,-1],6,e),d,b)}else{if(c==5){this.convolve("sobel1",7,a([-1,0,0,0,0,0,1,-2,0,0,0,0,0,2,-3,0,0,0,0,0,3,-4,0,0,0,0,0,4,-3,0,0,0,0,0,3,-2,0,0,0,0,0,2,-1,0,0,0,0,0,1],7,e),d,b);
this.convolve("sobel2",7,a([+1,+2,+3,+4,+3,+2,+1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-1,-2,-3,-4,-3,-2,-1],7,e),d,b)}}}}}return this}})();(function(){if(Raphael.vml){}else{var a=function(d,b){if(b){for(var c in b){if(b.hasOwnProperty(c)){d.setAttribute(c,b[c])
}}}else{return document.createElementNS("http://www.w3.org/2000/svg",d)}};Raphael.el.colorMatrix=function(d,b){var e={type:"matrix",values:b.join(" ")};if(this.colorMainFilter==null){this.colorMainFilter=a("filter");
this.colorMainFilter.id="colorMainFilter";this.paper.defs.appendChild(this.colorMainFilter);a(this.node,{filter:"url(#colorMainFilter)"})}var c=this._colorFilters==null?null:this._colorFilters[d];if(c==null){c=a("feColorMatrix")
}this.colorMainFilter.appendChild(c);a(c,e);if(!this._colorFilters){this._colorFilters={}}this._colorFilters[d]=c;return this};Raphael.st.colorMatrix=function(d,b){for(var c=0;c<this.items.length;c++){this.items[c].colorMatrix(d,b)
}};Raphael.el.colorMatrixClear=function(b){if(this._colorFilters!=null&&this._colorFilters[b]!=null&&this.colorMainFilter!=null){try{this.colorMainFilter.removeChild(this._colorFilters[b]);this._colorFilters[b]=null
}catch(c){alert("error removing filter for color matrix named : "+b)}}return this};Raphael.el.colorMatrixClearAll=function(){if(this.colorMainFilter!=null){this.paper.defs.removeChild(this.colorMainFilter);
this.colorMainFilter=null;this._colorFilters=null;this.node.removeAttribute("filter")}}}})();(function(){if(Raphael.vml){Raphael.el.toGrayScale=function(){this.node.style="progid:DXImageTransform.Microsoft.BasicImage(grayScale=1)"
}}else{var a=0.8;Raphael.el.toGrayScale=function(){this.colorMatrix("color1",[a,a,a,0,0,a,a,a,0,0,a,a,a,0,0,a,a,a,0,0])}}})();(function(){if(Raphael.vml){}else{var a=function(d,b){if(b){for(var c in b){if(b.hasOwnProperty(c)){d.setAttribute(c,b[c])
}}}else{return document.createElementNS("http://www.w3.org/2000/svg",d)}};Raphael.el.componentTransferLinear=function(e,c){if(this.componentTransfersMainFilter==null){var f="componentTransfersMainFilter_"+this.id+e;
var j=false;if(this.paper.defs){for(var g=0;g<this.paper.defs.childNodes.length;g++){if(this.paper.defs.childNodes.item(g).id==f){j=true;break}}}if(!j){this.componentTransfersMainFilter=a("filter");this.componentTransfersMainFilter.id=f;
this.paper.defs.appendChild(this.componentTransfersMainFilter);a(this.node,{filter:"url(#"+f+")"})}}var b=this._componentTransfers==null?null:this._componentTransfers[e],h=null,k=null,d=null;if(!b){if(!this._componentTransfers){this._componentTransfers={}
}b=a("feComponentTransfer");this._componentTransfers[e]=b;h=a("feFuncR");k=a("feFuncG");d=a("feFuncB");b.appendChild(h);b.appendChild(k);b.appendChild(d)}else{h=b.childNodes[0];k=b.childNodes[1];d=b.childNodes[2]
}a(h,c.funcR);h.setAttribute("type","linear");a(k,c.funcG);k.setAttribute("type","linear");a(d,c.funcB);d.setAttribute("type","linear");this.componentTransfersMainFilter.appendChild(b);return this};Raphael.el.componentTransferLinearClear=function(b){if(this._componentTransfers!=null&&this._componentTransfers[b]!=null&&this.componentTransfersMainFilter!=null){try{this.componentTransfersMainFilter.removeChild(this._componentTransfers[b]);
this._componentTransfers[b]=null}catch(c){alert("error removing filter for conv named : "+b)}}return this};Raphael.el.componentTransferLinearClearAll=function(){if(this.componentTransfersMainFilter!=null){this.paper.defs.removeChild(this.componentTransfersMainFilter);
this.componentTransfersMainFilter=null;this._componentTransfers=null;this.node.removeAttribute("filter")}}}})();(function(){if(Raphael.vml){}else{var a=function(d,b){if(b){for(var c in b){if(b.hasOwnProperty(c)){d.setAttribute(c,b[c])
}}}else{return document.createElementNS("http://www.w3.org/2000/svg",d)}};Raphael.el.morphology=function(e,d,b){var f={operator:d,radius:b};if(this.morphologyMainFilter==null){this.morphologyMainFilter=a("filter");
this.morphologyMainFilter.id="morphologyMainFilter";this.paper.defs.appendChild(this.morphologyMainFilter);a(this.node,{filter:"url(#morphologyMainFilter)"})}var c=this._morphologyFilters==null?null:this._morphologyFilters[e];
if(c==null){c=a("feMorphology")}this.morphologyMainFilter.appendChild(c);a(c,f);if(!this._morphologyFilters){this._morphologyFilters={}}this._morphologyFilters[e]=c;return this};Raphael.el.morphologyClear=function(b){if(this._morphologyFilters!=null&&this._morphologyFilters[b]!=null&&this.morphologyMainFilter!=null){try{this.morphologyMainFilter.removeChild(this._morphologyFilters[b]);
this._morphologyFilters[b]=null}catch(c){alert("error removing filter for morphology named : "+b)}}return this};Raphael.el.morphologyClearAll=function(){if(this.morphologyMainFilter!=null){this.paper.defs.removeChild(this.morphologyMainFilter);
this.morphologyMainFilter=null;this._morphologyFilters=null;this.node.removeAttribute("filter")}};Raphael.st.morphology=function(e,c,b){for(var d=0;d<this.items.length;d++){this.items[d].morphology(e,c,b)
}}}})();(function(){if(!String.prototype.trim){String.prototype.trim=function(){return this.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}}Raphael.fn.selectByType=function(f,c){var b={},e=null;if(!c){e=this.bottom;
while(e!=null){if(e.type==f&&!b[e.id]){b[e.id]=e}e=e.next}}else{for(var d=0;d<c.length;d++){e=c[d];if(e.type==f&&!b[e.id]){b[e.id]=e}}}return b};Raphael.fn.selectByDataEquals=function(d,f,c){var e=this.bottom,b={};
while(e!=null){if(e.data(d)==f){b[e.id]=e}e=e.next}return b};Raphael.fn.selectShapes=function(e,a){var g=e.split(","),m={};for(var h=0;h<g.length;h++){var b=g[h].trim(),q={};if(!b||b.length==0){continue
}var l=b.substring(0,1);if(l=="["){var p=b.substring(b.length-1,b.length);if(p!="]"){continue}var k=b.substring(1,b.length-1).split("=");if(k.length!=2){continue}var o=k[0],d=k[1];q=this.selectByDataEquals(o,d,a)
}else{if(l=="."){var n=b.substring(1,b.length);q=this.selectByDataEquals("class",n,a)}else{q=this.selectByType(b,a)}}for(var f in q){if(!m[f]){m[f]=q[f]}}}return m};Raphael.fn.styleAdd=function(b,a,c){if(!this._css_styles){this._css_styles={}
}var d=_parseCSS(a);this._css_styles[b]=d;if(c){this.styleApply(b)}};Raphael.fn.styleGet=function(a){var b=this._css_styles[a];return b};Raphael.fn.styleGetAll=function(a){return this._css_styles};Raphael.fn.styleApply=function(a,b){if(!this._css_styles){return
}var f=this._css_styles[a];for(var c=0;c<f.length;c++){var d=f[c][0],e=f[c][1];var b=this.selectShapes(d,b);for(var g in b){b[g].attr(e)}}};_parseCSS=function(d){var h=[];d=_removeComments(d);var g=d.split("}");
g.pop();var a=g.length;for(var c=0;c<a;c++){var f=g[c].split("{");var e=(f[0]+"").trim();var b=_parseCSSBlock(f[1]);h.push([e,b])}return h};_parseCSSBlock=function(c){var g={};var f=c.split(";");var a=f.length;
for(var b=0;b<a;b++){var h=f[b].indexOf(":");if(h==-1){continue}var e=f[b].substring(0,h).trim();var d=f[b].substring(h+1).trim();if(e!=""&&d!=""){g[e]=d}}return g};_removeComments=function(a){return a.replace(/\/\*(\r|\n|.)*\*\//g,"")
}})();(function(b){function c(m){if(typeof m==="number"){return m.toString()}var l={"&":"amp","<":"lt",">":"gt",'"':"quot","'":"apos"};for(var k in l){m=m.replace(new RegExp(k,"g"),"&"+l[k]+";")}return m
}function a(n,o){var k=new Array;for(var l in n){if(n.hasOwnProperty(l)){var m=o.call(this,n[l],l);if(m!==null){k.push(m)}}}return k}function d(m,n,k){for(var l in m){if(m.hasOwnProperty(l)){k=n.call(this,k,m[l],l)
}}return k}function j(m,l,k,n){if(typeof n==="undefined"||n===null){n=""}if(typeof l==="object"){l=a(l,function(p,o){if(o==="transform"){return}return o+'="'+c(p)+'"'}).join(" ")}return"<"+m+(k?' transform="matrix('+k.toString().replace(/^matrix\(|\)$/g,"")+')" ':" ")+l+">"+n+"</"+m+">"
}function g(k){return{font:{family:k.attrs.font.replace(/^.*?"(\w+)".*$/,"$1"),size:typeof k.attrs["font-size"]==="undefined"?null:k.attrs["font-size"]}}}function h(k){return"font: normal normal normal 10px/normal "+k.font.family+(k.font.size===null?"":"; font-size: "+k.font.size+"px")
}function e(m,l,k){if(m===null){m=10}return m*4.5/13*(l-0.2-k/2)*3.5}var f={text:function(l){style=g(l);var k=new Array;a(l.attrs.text.split("\n"),function(o,n,m){m=m||0;k.push(j("text",d(l.attrs,function(q,r,p){if(p!=="text"&&p!=="w"&&p!=="h"){if(p==="font-size"){r=r+"px"
}q[p]=c(r.toString())}return q},{style:"text-anchor: middle; "+h(style)+";"}),l.matrix,j("tspan",{dy:e(style.font.size,m+1,l.attrs.text.split("\n").length)},null,o)))});return k},path:function(l){var k=(l.matrix.a===1&&l.matrix.d===1)?{}:{transform:l.matrix.toString()};
return j("path",d(l.attrs,function(n,o,m){if(m==="path"){m="d"}n[m]=o.toString();return n},{}),l.matrix)}};b.fn.toSVG=function(){var p=this,n={svg:b.svg,vml:b.vml},k='<svg style="overflow: hidden; position: relative;" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="'+p.width+'" version="1.1" height="'+p.height+'">';
b.svg=true;b.vml=false;for(var o=p.bottom;o!=null;o=o.next){if(o.node.style.display==="none"){continue}var m="";if(typeof f[o.type]==="function"){k+=f[o.type](o);continue}switch(o.type){case"image":m+=' preserveAspectRatio="none"';
break}for(i in o.attrs){var l=i;switch(i){case"src":l="xlink:href";break;case"transform":l="";break}if(l){m+=" "+l+'="'+c(o.attrs[i].toString())+'"'}}k+="<"+o.type+' transform="matrix('+o.matrix.toString().replace(/^matrix\(|\)$/g,"")+')"'+m+"></"+o.type+">"
}k+="</svg>";b.svg=n.svg;b.vml=n.vml;return k}})(window.Raphael);Raphael.fn.importSVGStr=function(a){var b=null;if(window.DOMParser){parser=new DOMParser();b=parser.parseFromString(a,"text/xml")}else{b=new ActiveXObject("Microsoft.XMLDOM");
b.async=false;b.loadXML(a)}if(b){return this.importSVG(b)}else{return null}};Raphael.fn.importSVG=function(svgXML){try{var m_myNewSet=this.set();var strSupportedShapes="|rect|circle|ellipse|path|image|text|polygon|";
var linGrads=svgXML.getElementsByTagName("linearGradient");var radGrads=svgXML.getElementsByTagName("radialGradient");this.doFill=function(strNode,attr,mNodeName,mNodeValue){if(mNodeValue.indexOf("url")==0){var opacity;
var gradID=mNodeValue.substring("url(#".length,mNodeValue.length-1);for(var l=0;l<radGrads.length;l++){if(radGrads.item(l).getAttribute("id")==gradID){var stop1,stop2;for(var st=0;st<radGrads.item(l).childNodes.length;
st++){if(radGrads.item(l).childNodes.item(st).nodeName=="stop"){if(stop1){stop2=radGrads.item(l).childNodes.item(st)}else{stop1=radGrads.item(l).childNodes.item(st)}}}if(!stop1){return}if(strNode=="path"){attr[mNodeName]=90+"-"+stop1.getAttribute("stop-color")+"-"+stop2.getAttribute("stop-color")+":50-"+stop1.getAttribute("stop-color")
}else{attr[mNodeName]="r("+radGrads.item(l).getAttribute("fx")+","+radGrads.item(l).getAttribute("fx")+")"+stop1.getAttribute("stop-color")+"-"+stop2.getAttribute("stop-color")}if(stop1.getAttribute("stop-opacity")){opacity=stop1.getAttribute("stop-opacity")
}}}for(var l=0;l<linGrads.length;l++){if(linGrads.item(l).getAttribute("id")==gradID){var b=parseFloat(linGrads.item(l).getAttribute("y2"))-parseFloat(linGrads.item(l).getAttribute("y1"));var c=parseFloat(linGrads.item(l).getAttribute("x2"))-parseFloat(linGrads.item(l).getAttribute("x1"));
var angle=Math.atan(b/c);if(c<0){angle=angle-Math.PI}angle=parseInt(Raphael.deg(angle)+360)%360;var stop1,stop2;for(var st=0;st<linGrads.item(l).childNodes.length;st++){if(linGrads.item(l).childNodes.item(st).nodeName=="stop"){if(stop1){stop2=linGrads.item(l).childNodes.item(st)
}else{stop1=linGrads.item(l).childNodes.item(st)}}}if(!stop1){return}attr[mNodeName]=angle+"-"+stop1.getAttribute("stop-color")+"-"+stop2.getAttribute("stop-color")+":50-"+stop1.getAttribute("stop-color");
if(stop1.getAttribute("stop-opacity")){opacity=stop1.getAttribute("stop-opacity")}}}if(opacity){attr.opacity=opacity}}else{attr[mNodeName]=mNodeValue}};this.parseElement=function(elShape,myNewSet){var node=elShape.nodeName;
if(node=="g"){var groupSet=this.set();for(var o=0;o<elShape.childNodes.length;o++){this.parseElement(elShape.childNodes.item(o),groupSet)}for(var k=0;k<elShape.attributes.length;k++){var m=elShape.attributes[k];
if(m.nodeName=="transform"&&groupSet.transform){var actions=m.nodeValue.split(")");for(var a=0;a<actions.length;a++){if(actions[a].indexOf("matrix")==0){groupSet.transform("m"+actions[a].substring(actions[a].indexOf("(")+1))
}else{if(actions[a]){eval("groupSet."+actions[a]+")")}}}}else{groupSet.attr(m.nodeName,m.nodeValue)}}myNewSet.push(groupSet);return}if(node&&strSupportedShapes.indexOf("|"+node+"|")>=0){var attr={"stroke-width":0,fill:"#fff"};
var shape;var style;var nodeID=elShape.getAttribute("id");m_font="";for(var k=0;k<elShape.attributes.length;k++){var m=elShape.attributes[k];switch(m.nodeName){case"stroke-dasharray":attr[m.nodeName]="- ";
break;case"style":style=m.nodeValue.split(";");for(var l=0;l<style.length;l++){if(style[l].split(":")[0]=="fill"){this.doFill(node,attr,style[l].split(":")[0],style[l].split(":")[1])}else{attr[style[l].split(":")[0]]=style[l].split(":")[1]
}}break;case"fill":this.doFill(node,attr,m.nodeName,m.nodeValue);break;case"font-size":m_font=m.nodeValue+"px "+m_font;attr[m.nodeName]=m.nodeValue;break;case"font-family":m_font=m_font+'"'+m.nodeValue+'"';
break;case"x":case"y":case"cx":case"cy":case"rx":case"ry":attr[m.nodeName]=parseFloat(m.nodeValue);break;case"text-anchor":break;default:attr[m.nodeName]=m.nodeValue;break}}switch(node){case"rect":if(attr.rx){shape=this.rect(attr.x,attr.y,elShape.getAttribute("width"),elShape.getAttribute("height"),attr.rx)
}else{shape=this.rect()}break;case"circle":shape=this.ellipse();attr.rx=attr.r;attr.ry=attr.r;break;case"ellipse":shape=this.ellipse();break;case"path":shape=this.path(attr.d);break;case"polygon":var point_string=attr.points.trim();
var aryPoints=point_string.split(" ");var strNewPoints="M";for(var i in aryPoints){if(i>0){strNewPoints+="L"}strNewPoints+=aryPoints[i]}strNewPoints+="Z";shape=this.path(strNewPoints);break;case"image":shape=this.image();
break;case"text":shape=this.text(attr.x,attr.y,elShape.text||elShape.textContent);shape.attr("font",m_font);shape.attr("stroke","none");shape.origFontPt=parseInt(attr["font-size"]);break}myNewSet.push(shape);
shape.attr(attr);for(var k=0;k<elShape.attributes.length;k++){var m=elShape.attributes[k];if(m.nodeName=="transform"&&shape.transform){var actions=m.nodeValue.split(")");for(var a=0;a<actions.length;a++){if(actions[a].indexOf("matrix")==0){shape.transform("m"+actions[a].substring(actions[a].indexOf("(")+1))
}else{if(actions[a]){eval("shape."+actions[a]+")")}}}}}}};var elShape;var m_font;var elSVG=svgXML.getElementsByTagName("svg")[0];elSVG.normalize();for(var i=0;i<elSVG.childNodes.length;i++){elShape=elSVG.childNodes.item(i);
this.parseElement(elShape,m_myNewSet)}}catch(error){alert("The SVG data you entered was invalid! ("+error+")")}return m_myNewSet};(function(){var a=function(b){if(!b.paper.customAttributes.translateNT){b.paper.customAttributes.translateNT=function(e,c){if(this.type=="circle"||this.type=="ellipse"){return{cx:this.attr("cx")+e,cy:this.attr("cy")+c}
}else{if(this.type=="rect"||this.type=="text"||this.type=="image"){return{x:this.attr("x")+e,y:this.attr("y")+c}}else{if(this.type=="path"){var d=Raphael.matrix(1,0,0,1,0,0);d.translate(e,c);var f=Raphael.mapPath(this.attr("path"),d);
this.attr({path:f})}}}};b.paper.customAttributes.scaleNT=function(g,e){if(this.type=="circle"){return{r:this.attr("r")*Math.max(g,e)}}else{if(this.type=="ellipse"){return{rx:this.attr("rx")*g,ry:this.attr("ry")*e}
}else{if(this.type=="rect"||this.type=="image"){return{width:this.attr("width")*g,height:this.attr("height")*e}}else{if(this.type=="text"){var d=parseInt(this.attr("font-size")+"");return{"font-size":d*Math.max(g,e)}
}else{if(this.type=="path"){var j=this.getBBox(),c=j.x+j.width/2,k=j.y+j.height/2;var f=Raphael.matrix(1,0,0,1,0,0);f.scale(g,e,c,k);var h=Raphael.mapPath(this.attr("path"),f);return{path:h}}}}}}}}};Raphael.el.nt_translate=function(d,b){a(this);
if(this.type=="circle"||this.type=="ellipse"){this.attr({cx:this.attr("cx")+d,cy:this.attr("cy")+b})}else{if(this.type=="rect"||this.type=="text"||this.type=="image"){this.attr({x:this.attr("x")+d,y:this.attr("y")+b})
}else{if(this.type=="path"){var c=Raphael.matrix(1,0,0,1,0,0);c.translate(d,b);var e=Raphael.mapPath(this.attr("path"),c);this.attr({path:e})}}}return this};Raphael.el.nt_scale=function(f,d){a(this);if(this.type=="circle"){this.attr({r:this.attr("r")*Math.max(f,d)})
}else{if(this.type=="ellipse"){this.attr({rx:this.attr("rx")*f,ry:this.attr("ry")*d})}else{if(this.type=="rect"||this.type=="image"){this.attr({width:this.attr("width")*f,height:this.attr("height")*d})
}else{if(this.type=="text"){var c=parseInt(this.attr("font-size")+"");this.attr({"font-size":c*Math.max(f,d)})}else{if(this.type=="path"){var h=this.getBBox(),b=h.x+h.width/2,j=h.y+h.height/2;var e=Raphael.matrix(1,0,0,1,0,0);
e.scale(f,d,b,j);var g=Raphael.mapPath(this.attr("path"),e);this.attr({path:g})}}}}}return this};Raphael.st.nt_translate=function(c,b){a(this);this.forEach(function(e,d){e.nt_translate(c,b);return true
});return this};Raphael.st.nt_scale=function(c,b){a(this);this.forEach(function(e,d){e.nt_scale(c,b);return true});return this}})();(function(){Raphael.el.installPathEditor=function(t){t=!t?{}:t;if(!this.type||this.type!="path"||!this.attr("path")){return
}var o=Raphael.parsePathString(this.attr("path"));var n={pathObject:o,shape:this,commandEditors:t.commandEditors?t.commandEditors:d,dragThrottle:t.dragThrottle?dragThrottle:80};var w=this.paper.set(),v=this.paper.set();
for(var r=0;r<o.length;r++){var p=o[r];p.cmdIndex=r;var x=a(n,p)}var u=10;for(var r in n.commandEditors){var q=paper.circle(10,u,5).attr({fill:n.commandEditors[r]["bgColor"]});var s=paper.text(30,u,n.commandEditors[r]["description"]).attr({"text-anchor":"start"});
u+=25;v.push(q);v.push(s)}return{editor:w,legend:v,}};var d={L:{bgColor:"#ededed",textColor:"black",name:"L",description:"line to"},M:{bgColor:"#111111",textColor:"white",name:"M",description:"move to"},H:{bgColor:"#ff1111",textColor:"yellow",name:"H",description:"horizontal line to"},V:{bgColor:"#ffff11",textColor:"yellow",name:"V",description:"vertical line to"},C:{bgColor:"#55ee55",textColor:"black",name:"C",description:"curve to"},S:{bgColor:"#1111ff",textColor:"black",name:"S",description:"smooth curve to"},Q:{bgColor:"orange",textColor:"black",name:"Q",description:"quadratic Bézier curve to"},T:{bgColor:"purple",textColor:"black",name:"T",description:"smooth quadratic Bézier curve to"},R:{bgColor:"brown",textColor:"black",name:"R",description:"Catmull-Rom curve to"}};
var a=function(o,p){if(!p||p.length<1){return}var n=null;if(p[0]=="L"&&p.length==3){n=m(o,p)}else{if(p[0]=="M"&&p.length==3){n=c(o,p)}else{if(p[0]=="H"&&p.length==2){n=g(o,p)}else{if(p[0]=="V"&&p.length==2){n=h(o,p)
}else{if(p[0]=="C"&&p.length==7){n=k(o,p)}else{if(p[0]=="S"&&p.length==5){n=b(o,p)}else{if(p[0]=="Q"&&p.length==5){n=j(o,p)}else{if(p[0]=="T"&&p.length==3){n=f(o,p)}else{if(p[0]=="R"&&p.length==5){n=l(o,p)
}else{if(p[0]=="Z"){}else{throw"Path Command "+p[0]+" not supported"}}}}}}}}}}return n};var m=function(o,p){var q=o.shape.paper;var r=q.circle(p[1],p[2],5).attr({fill:o.commandEditors.L["bgColor"]});var n={pathObject:o.pathObject,shape:o.shape,feedback:r,cmd:p};
r.drag(e(o.dragThrottle,function(u,t){var s=this.ox+u,v=this.oy+t;this.cmd[1]=s;this.cmd[2]=v;this.feedback.attr({cx:s,cy:v});this.shape.attr({path:this.pathObject})}),function(s,t){this.ox=this.feedback.attr("cx");
this.oy=this.feedback.attr("cy")},function(){},n,n,n);return r};var f=function(o,p){var q=o.shape.paper;var r=q.circle(p[1],p[2],5).attr({fill:o.commandEditors.T["bgColor"]});var n={pathObject:o.pathObject,shape:o.shape,feedback:r,cmd:p};
r.drag(e(o.dragThrottle,function(u,t){var s=this.ox+u,v=this.oy+t;this.cmd[1]=s;this.cmd[2]=v;this.feedback.attr({cx:s,cy:v});this.shape.attr({path:this.pathObject})}),function(s,t){this.ox=this.feedback.attr("cx");
this.oy=this.feedback.attr("cy")},function(){},n,n,n);return r};var c=function(o,p){var q=o.shape.paper;var r=q.circle(p[1],p[2],5).attr({fill:o.commandEditors.M["bgColor"]});var n={pathObject:o.pathObject,shape:o.shape,feedback:r,cmd:p};
r.drag(e(o.dragThrottle,function(u,t){var s=this.ox+u,v=this.oy+t;this.cmd[1]=s;this.cmd[2]=v;this.feedback.attr({cx:s,cy:v});this.shape.attr({path:this.pathObject})}),function(s,t){this.ox=this.feedback.attr("cx");
this.oy=this.feedback.attr("cy")},function(){},n,n,n);return r};var g=function(o,p){var q=o.shape.paper;var r=q.circle(p[1],50,5).attr({fill:o.commandEditors.H["bgColor"]});var n={pathObject:o.pathObject,shape:o.shape,feedback:r,cmd:p};
r.drag(e(o.dragThrottle,function(u,t){var s=this.ox+u,v=this.oy+t;this.cmd[1]=s;this.feedback.attr({cx:s,cy:v});this.shape.attr({path:this.pathObject})}),function(s,t){this.ox=this.feedback.attr("cx");
this.oy=this.feedback.attr("cy")},function(){},n,n,n);return r};var h=function(o,p){var q=o.shape.paper;var r=q.circle(50,p[1],5).attr({fill:o.commandEditors.V["bgColor"]});var n={pathObject:o.pathObject,shape:o.shape,feedback:r,cmd:p};
r.drag(e(o.dragThrottle,function(u,t){var s=this.ox+u,v=this.oy+t;this.cmd[1]=v;this.feedback.attr({cx:s,cy:v});this.shape.attr({path:this.pathObject})}),function(s,t){this.ox=this.feedback.attr("cx");
this.oy=this.feedback.attr("cy")},function(){},n,n,n);return r};var k=function(n,p){var o=n.shape.paper;var w=o.set();var t=o.circle(p[1],p[2],5).attr({fill:n.commandEditors.C["bgColor"]});var v={pathObject:n.pathObject,shape:n.shape,feedback:t,cmd:p};
t.drag(e(n.dragThrottle,function(B,A){var z=this.ox+B,C=this.oy+A;this.cmd[1]=z;this.cmd[2]=C;this.feedback.attr({cx:z,cy:C});this.shape.attr({path:this.pathObject})}),function(z,A){this.ox=this.feedback.attr("cx");
this.oy=this.feedback.attr("cy")},function(){},v,v,v);w.push(t);var r=o.circle(p[3],p[4],5).attr({fill:n.commandEditors.C["bgColor"]});var u={pathObject:n.pathObject,shape:n.shape,feedback:r,cmd:p};r.drag(e(n.dragThrottle,function(B,A){var z=this.ox+B,C=this.oy+A;
this.cmd[3]=z;this.cmd[4]=C;this.feedback.attr({cx:z,cy:C});this.shape.attr({path:this.pathObject})}),function(z,A){this.ox=this.feedback.attr("cx");this.oy=this.feedback.attr("cy")},function(){},u,u,u);
w.push(r);var q=o.circle(p[5],p[6],5).attr({fill:n.commandEditors.C["bgColor"]});var s={pathObject:n.pathObject,shape:n.shape,feedback:q,cmd:p};q.drag(e(n.dragThrottle,function(B,A){var z=this.ox+B,C=this.oy+A;
this.cmd[5]=z;this.cmd[6]=C;this.feedback.attr({cx:z,cy:C});this.shape.attr({path:this.pathObject})}),function(z,A){this.ox=this.feedback.attr("cx");this.oy=this.feedback.attr("cy")},function(){},s,s,s);
w.push(q);return w};var b=function(q,s){var t=q.shape.paper;var u=t.set();var r=t.circle(s[1],s[2],5).attr({fill:q.commandEditors.S["bgColor"]});var o={pathObject:q.pathObject,shape:q.shape,feedback:r,cmd:s};
r.drag(e(q.dragThrottle,function(z,w){var v=this.ox+z,A=this.oy+w;this.cmd[1]=v;this.cmd[2]=A;this.feedback.attr({cx:v,cy:A});this.shape.attr({path:this.pathObject})}),function(v,w){this.ox=this.feedback.attr("cx");
this.oy=this.feedback.attr("cy")},function(){},o,o,o);u.push(r);var p=t.circle(s[3],s[4],5).attr({fill:q.commandEditors.S["bgColor"]});var n={pathObject:q.pathObject,shape:q.shape,feedback:p,cmd:s};p.drag(e(q.dragThrottle,function(z,w){var v=this.ox+z,A=this.oy+w;
this.cmd[3]=v;this.cmd[4]=A;this.feedback.attr({cx:v,cy:A});this.shape.attr({path:this.pathObject})}),function(v,w){this.ox=this.feedback.attr("cx");this.oy=this.feedback.attr("cy")},function(){},n,n,n);
u.push(p);return u};var l=function(q,s){var t=q.shape.paper;var u=t.set();var r=t.circle(s[1],s[2],5).attr({fill:q.commandEditors.R["bgColor"]});var o={pathObject:q.pathObject,shape:q.shape,feedback:r,cmd:s};
r.drag(e(q.dragThrottle,function(z,w){var v=this.ox+z,A=this.oy+w;this.cmd[1]=v;this.cmd[2]=A;this.feedback.attr({cx:v,cy:A});this.shape.attr({path:this.pathObject})}),function(v,w){this.ox=this.feedback.attr("cx");
this.oy=this.feedback.attr("cy")},function(){},o,o,o);u.push(r);var p=t.circle(s[3],s[4],5).attr({fill:q.commandEditors.R["bgColor"]});var n={pathObject:q.pathObject,shape:q.shape,feedback:p,cmd:s};p.drag(e(q.dragThrottle,function(z,w){var v=this.ox+z,A=this.oy+w;
this.cmd[3]=v;this.cmd[4]=A;this.feedback.attr({cx:v,cy:A});this.shape.attr({path:this.pathObject})}),function(v,w){this.ox=this.feedback.attr("cx");this.oy=this.feedback.attr("cy")},function(){},n,n,n);
u.push(p);return u};var j=function(q,s){var t=q.shape.paper;var u=t.set();var r=t.circle(s[1],s[2],5).attr({fill:q.commandEditors.Q["bgColor"]});var o={pathObject:q.pathObject,shape:q.shape,feedback:r,cmd:s};
r.drag(e(q.dragThrottle,function(z,w){var v=this.ox+z,A=this.oy+w;this.cmd[1]=v;this.cmd[2]=A;this.feedback.attr({cx:v,cy:A});this.shape.attr({path:this.pathObject})}),function(v,w){this.ox=this.feedback.attr("cx");
this.oy=this.feedback.attr("cy")},function(){},o,o,o);u.push(r);var p=t.circle(s[3],s[4],5).attr({fill:q.commandEditors.Q["bgColor"]});var n={pathObject:q.pathObject,shape:q.shape,feedback:p,cmd:s};p.drag(e(q.dragThrottle,function(z,w){var v=this.ox+z,A=this.oy+w;
this.cmd[3]=v;this.cmd[4]=A;this.feedback.attr({cx:v,cy:A});this.shape.attr({path:this.pathObject})}),function(v,w){this.ox=this.feedback.attr("cx");this.oy=this.feedback.attr("cy")},function(){},n,n,n);
u.push(p);return u};var e=function(o,p,t,s){var r,n=0;if(typeof p!=="boolean"){s=t;t=p;p=undefined}function q(){var y=this,w=+new Date()-n,x=arguments;function v(){n=+new Date();t.apply(y,x)}function u(){r=undefined
}if(s&&!r){v()}r&&clearTimeout(r);if(s===undefined&&w>o){v()}else{if(p!==true){r=setTimeout(s?u:v,s===undefined?o-w:o)}}}return q}})();